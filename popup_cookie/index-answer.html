<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë‚´ê°€ ë§Œë“  íŒì—… . . . ë‹ˆë¥¼ ìœ„í•´ ë„ì› ì§€</title>
  <style>
    .popup-wrap{
      position: fixed;
      left: 100px;
      top: 100px;
      border: 1px solid #ebebeb;
      padding: 40px 60px;
      border-radius: 15px;
    }
  </style>
</head>
<body>
  <h1>ì œğŸ€ëª©</h1>
  <div class="popup-wrap">
    <h2>ë‚´ğŸ€ìš©</h2>
    <input type="checkbox" id="popup">
    <label for="popup">ì˜¤ëŠ˜ í•˜ë£¨ ì•ˆ ë³´ê¸°</label>
    <button class="close">ë‹«ê¸°</button>
  </div>
  <script>
    // console.log(document.cookie)
    const myPop = document.querySelector('.popup-wrap');
    const checkbox = document.querySelector('#popup');
    const close = document.querySelector('.close');
    let visited = false;
    
    function setCookie(name,value,day){
      let date = new Date();
      date.setDate(date.getDate() + day);
      let setCookie='';
      setCookie += name + '=' + value + ';';
      setCookie += 'Expires=' + date.toUTCString();
      document.cookie = setCookie; 
      // ì¿ í‚¤ ì„¤ì •, ìƒì„±
    }
    function delCookie(name,){
      let date = new Date();
      date.setDate(date.getDate()-1);
      let setCookie='';
      setCookie += name + '=popup01;'
      setCookie += 'Expires=' + date.toUTCString();
      document.cookie = setCookie;
    }
    //ì¿ í‚¤ì²´í¬
    function checkCookie(name){
      let cookies = document.cookie.split(';');
      // ë¸Œë¼ìš°ì €ì— ì €ì¥ëœ ì—¬ëŸ¬ ê°œì˜ ì¿ í‚¤ ì¤‘ name ë³€ìˆ˜ì™€ ì¼ì¹˜í•˜ëŠ” ê²ƒì„ ê²€ìƒ‰
      for(let i in cookies){
        if(cookies[i].indexOf(name)>-1){
          // ì¬ë°©ë¬¸ì -> íŒì—… ì•ˆ ì—´ê¸°
          visited = true;
        }
      }
      console.log(cookies,visited);
      if(visited){
        myPop.style.display = 'none';
      }else{
        myPop.style.display = 'block';
      }
    }
    checkCookie('MangoWeb');
    // setCookie('ì¿ í‚¤ì´ë¦„','ì €ì¥í•  ê°’','íŒŒê¸°ì¼(ìœ ì§€ê¸°ê°„)')
    // setCookie('MangoWeb','popup01',1);
    close.addEventListener('click',function(){
      if(checkbox.checked){
        // ì˜¤ëŠ˜ í•˜ë£¨ ì•ˆ ë³´ê¸° ì²´í¬ => ì¿ í‚¤ìƒì„±
        setCookie('MangoWeb','popup01',1);
        myPop.style.display = 'none';
      }else{
        myPop.style.display = 'none';
        delCookie('MangoWeb');
      }
    })
  </script>
â€‹
</body>
</html>